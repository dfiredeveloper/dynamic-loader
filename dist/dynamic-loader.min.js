!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("DynamicLoader",[],e):"object"==typeof exports?exports.DynamicLoader=e():t.DynamicLoader=e()}(self,(()=>(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>o});!function(){if(!window.fetch){console.log("Fetch API not found, adding polyfill");var t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.4/fetch.min.js",document.head.appendChild(t)}}();const o=class{constructor(t="content"){this.contentContainer=document.getElementById(t),this.cache={},this.initialize()}initialize(){const t=document.querySelectorAll(".nav-link");t.forEach((t=>{const e=t.href;this.preloadContent(e)})),t.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const e=t.target.href;this.loadContent(e)}))})),window.addEventListener("popstate",(t=>{t.state&&t.state.path&&this.loadContent(t.state.path,!1)}))}async preloadContent(t){if(!this.cache[t])try{const e=await fetch(t,{cache:"force-cache"});if(!e.ok)throw new Error(`Failed to fetch ${t}`);const o=await e.text(),n=new DOMParser,r=n.parseFromString(o,"text/html").getElementById("content").innerHTML;this.cache[t]=r}catch(t){console.error("Error preloading page:",t)}}loadContent(t,e=!0){this.cache[t]?this.updateContent(this.cache[t],t,e):this.showError(`Content for ${t} is not cached`)}updateContent(t,e,o){if(this.contentContainer.innerHTML=t,o)try{history.pushState({path:e},"",e)}catch(t){console.error("Failed to push state:",t)}}showError(t){this.contentContainer.innerHTML=`<div class="error">${t}</div>`}};return e})()));